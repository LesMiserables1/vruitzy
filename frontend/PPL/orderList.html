<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Favicon -->
  <link rel="shortcut icon" href="./images/Logo.png" type="image/x-icon">

  <!-- Box icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

  <!-- Custom StyleSheet -->
  <link rel="stylesheet" href="./css/styles.css" />
  <title>Order List</title>
</head>

<body>
  <!-- Navigation -->
  <nav class="nav">
    <div class="navigation container">
      <div class="logo">
        <h1><a href="profileSeller.html"><img class="tanda" src="./images/logo.png" alt="">ruitzy</a></h1>
      </div>

      <div class="menu">
        <div class="top-nav">
          <div class="logo">
            <h1>Vruitzy</h1>
          </div>
          <div class="close">
            <i class="bx bx-x"></i>
          </div>
        </div>

        <ul class="nav-list">
          <li class="nav-item">
            <a href="profileSeller.html" class="nav-link">Profile</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">Order List</a>
          </li>
          <li class="nav-item">
            <a href="awal.html" class="nav-link">Logout</a>
          </li>
        </ul>
      </div>

      <a href="cart.html" class="cart-icon">
        <i class="bx bx-shopping-bag"></i>
      </a>

      <div class="hamburger">
        <i class="bx bx-menu"></i>
      </div>
    </div>
  </nav>

  <!-- Cart Items -->
  <h1 style="text-align: center; font-size: 5rem; color: #1a810c;">ORDER LIST</h1>
  
  <div class="container-md cart" style="border-bottom: 3px solid #1fce08; padding-bottom: 3%; border: 3px solid #1a810c; padding: 3%; border-radius: 50px;">
    <!-- <div style="margin-bottom: 1%; color: #1a810c;">
      <div style="display: flex; width: 100%; margin-bottom: 1%;">
        <h1>ORDER ID: #00011</h1>
        <h2 style="margin-left: 55%;">Tanggal</h2>
      </div>
      <h2>Customer Name: Nama</h2>
      <h2>Address: Alamat</h2>
    </div>
    <table style="border-bottom: 3px solid #1fce08;" >
      <tr>
        <th>Product</th>
        <th>Amount (Kg)</th>
        <th>Price</th>
      </tr>
      <tr>
        <td>
          <div class="cart-info">
            <img src="./images/Apple.jpg" alt="">
            <div>
              <p>Apple</p>
            </div>
          </div>
        </td>
        <td>
            <p>2 Kg</p>
        </td>
        <td>
            <p>Rp. 20000</p>
        </td>
      </tr>
    </table>
    <div style="margin-top: 2%; color: #1a810c;">
      <h2>Delivery Fee    : Rp.10000</h2>
      <h2>Total Price     : Rp.200000</h2>
      <h2>Payment Status  : PAID</h2>
      <h2>Payment Date    : 1/12/2020</h2>
      <h2>Shipping Status : ON DELIVERY</h2>
    </div> -->

  </div>

<!-- 
  <div class="container-md cart" style="border-bottom: 3px solid #1fce08; padding-bottom: 3%; border: 3px solid #1a810c; padding: 3%; border-radius: 50px;">
    <div style="margin-bottom: 1%; color: #1a810c;">
      <div style="display: flex; width: 100%; margin-bottom: 1%;">
        <h1>ORDER ID: #00011</h1>
        <h2 style="margin-left: 55%;">Tanggal</h2>
      </div>
      <h2>Customer Name: Nama</h2>
      <h2>Address: Alamat</h2>
    </div>
    <table style="border-bottom: 3px solid #1fce08;" >
      <tr>
        <th>Product</th>
        <th>Amount (Kg)</th>
        <th>Price</th>
      </tr>
      <tr>
        <td>
          <div class="cart-info">
            <img src="./images/Apple.jpg" alt="">
            <div>
              <p>Apple</p>
            </div>
          </div>
        </td>
        <td>
            <p>2 Kg</p>
        </td>
        <td>
            <p>Rp. 20000</p>
        </td>
      </tr>
      <tr>
        <td>
          <div class="cart-info">
            <img src="./images/Lemons.png" alt="">
            <div>
              <p>Lemons</p>
            </div>
          </div>
        </td>
        <td>
           <p>2 Kg</p>
        </td>
        <td>
          <p>Rp. 20000</p>
        </td>
      </tr>
      <tr>
        <td>
          <div class="cart-info">
            <img src="./images/Cucumber.jpg" alt="">
            <div>
              <p>Cucumber</p>
            </div>
          </div>
        </td>
        <td>
          <p>2 Kg</p>
        </td>
        <td>
          <p>Rp. 20000</p>
        </td>
      </tr>
      <tr>
        <td>
          <div class="cart-info">
            <img src="./images/Tomatoes.jpg" alt="">
            <div>
              <p>Tomatoes</p>
            </div>
          </div>
        </td>
        <td>
          <p>2 Kg</p>
        </td>
        <td>
          <p>Rp. 20000</p>
        </td>
      </tr>
      <tr>
        <td>
          <div class="cart-info">
            <img src="./images/Oranges.jpg" alt="">
            <div>
              <p>Oranges</p>
            </div>
          </div>
        </td>
        <td>
          <p>2 Kg</p>
        </td>
        <td>
          <p>Rp. 20000</p>
        </td>
      </tr>
    </table>
    <div style="margin-top: 2%; color: #1a810c;">
      <h2>Delivery Fee    : Rp.10000</h2>
      <h2>Total Price     : Rp.200000</h2>
      <h2>Payment Status  : PAID</h2>
      <h2>Payment Date    : 1/12/2020</h2>
      <h2>Shipping Status : ON DELIVERY</h2>
    </div>

  </div> -->


  <!-- Footer -->
  <footer class="footer-distributed">
 
    <div class="footer-left">
  
    <h3>Vruitzy</h3>
  
    <p class="footer-links">
      Vruitzy is an e-commerce platform that
      offers high-quality fresh fruits while
      staying at home!
    </p>
  
    
    </div>
  
    <div class="footer-center">

    </div>
    <div class="footer-right">
  
    <p class="footer-company-about">
    <span>Follow Us!</span>
    </p>
  
    <div class="footer-icons">
  
    <a href="#"><i class="fa fa-facebook"></i></a>
    <a href="#"><i class="fa fa-twitter"></i></a>
    <a href="#"><i class="fa fa-linkedin"></i></a>
    <a href="#"><i class="fa fa-github"></i></a>
  
    </div>
  
    </div>
    <p class="footer-company-name">Vruitzy &copy; 2020</p>
    </footer>
    <footer>
      <p>2020 &copy; Vruitzy | All rights reserved.</p>
    </footer>
  <!-- End Footer -->

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
  <!-- Custom Script -->
  <script src="./js/index.js"></script>
  <script>
  
  fetch('http://dev-story.my.id:3011/store/retrieve/order', {

      method: 'post',
      headers: {
        'Content-Type': 'application/json',
        'auth-token': localStorage.getItem('token')
      },
    
      })
      .then(async res => {
        let response = await res.json();
        console.log(response)
        let hasil = document.querySelector('.cart')
        hasil.innerHTML = ''
        if(response.status == 'ok'){
          response.data.forEach(order => {
            hasil.innerHTML += `<div class="container-md cart" style="border-bottom: 3px solid #1fce08; padding-bottom: 3%; border: 3px solid #1a810c; padding: 3%; border-radius: 50px;">
                  <div style="margin-bottom: 1%; color: #1a810c;">
                    <div style="display: flex; width: 100%; margin-bottom: 1%;">
                      <h1>ORDER ID: #000${order.id}</h1>
                      <h2 style="margin-left: 55%;">${order.createdAt}</h2>
                    </div>
                    <h2>Customer Name: ${order.customer.nama}</h2>
                    <h2>Address: ${order.customer.alamat}</h2>
                  </div>
                    <table class="${order.id}" style="border-bottom: 3px solid #1fce08;" >
                    <tr>
                      <th>Product</th>
                      <th>Amount (Kg)</th>
                      <th>Price</th>
                    </tr>
                  
                  </table>
                
                  <div style="margin-top: 2%; color: #1a810c;">
                   <!-- <h2>Delivery Fee    : {order.shipping_detail.fee}</h2> -->
                    <h2>Total Price     : ${order.total_harga}</h2>
                    <h2>Payment Status  : ${order.status}</h2>
                    <h2>Payment Date    : ${order.payment_date}</h2>
                    <h2>Shipping Status : ${order.shipping_detail.status}</h2>
                  </div>
                  </div>`                 
            let masuk = document.querySelector("[class=" + CSS.escape(order.id) + "]")
            order.order_details.forEach(details => {
              masuk.innerHTML += `<tr>
                      <td>
                        <div class="cart-info">
                          <img src="./images/Apple.jpg" alt="">
                          <div>
                            <p>${details.product.nama_product}</p>
                          </div>
                        </div>
                      </td>
                      <td>
                          <p>${details.jumlah}kg</p>
                      </td>
                      <td>
                          <p>Rp${details.harga}</p>
                      </td>
                    </tr>`


            })


          })
        }
      })

  </script>
</body>

</html>