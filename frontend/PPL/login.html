<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="./images/Logo.png" type="image/x-icon">
    <link rel="stylesheet" href="login.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
    <title>Login</title>
  </head>
  <body>
    <div class="wrapper">
      <div class="title-text">
        <div class="title login">LOGIN</div>
    </div>
<div class="form-container">
        <div class="slide-controls">
          <input type="radio" name="slide" id="buyer" checked>
          <input type="radio" name="slide" id="seller">
          <input type="radio" name="slide" id="driver">
          <label for="buyer" class="slide buyer">Buyer</label>
          <label for="seller" class="slide seller">Seller</label>
          <label for="driver" class="slide driver">Transport</label>
          <div class="slider-tab">
</div>
</div>
<div class="form-inner">
    <form action="index.html" class="buyer">
        <div class="field">
            <input type="text" class="email-cust" placeholder="Enter your email" required>
        </div>
        <div class="field">
            <input type="password" class="pass-cust" placeholder="Enter your password" required>
        </div>
        <div class="pass-link">
            <a href="forget.html">Forgot password?</a></div>
            <div class="field btn">
            <div class="btn-layer">
        </div>
        <input class="login-cust" type="submit" value="Login">
        </div>
<div class="signup-link">
New to Vruitzy? <a href="signup.html">Signup now</a></div>
</form>
<form action="profileSeller.html" class="seller">
  <div class="field">
    <input type="text" class="email-seller" placeholder="Enter your email" required>
</div>
<div class="field">
    <input type="password"  class="pass-seller" placeholder="Enter your password" required>
</div>
<div class="pass-link">
    <a href="forget.html">Forgot password?</a></div>
    <div class="field btn">
    <div class="btn-layer">
</div>
<input type="submit"  value="Login" class="login-seller">
</div>
<div class="signup-link">
New to Vruitzy? <a href="signup.html">Signup now</a></div>
</form>
<form action="profileDriver.html" class="driver">
  <div class="field">
    <input type="text" class="email-transport" placeholder="Enter your email" required>
</div>
<div class="field">
    <input type="password" class="pass-transport" placeholder="Enter your password" required>
</div>
<div class="pass-link">
    <a href="forget.html">Forgot password?</a></div>
    <div class="field btn">
    <div class="btn-layer">
</div>
<input type="submit" value="Login" class="login-transport">
</div>
<div class="signup-link">
New to Vruitzy? <a href="signup.html">Signup now</a></div>
</form>
</div>
</div>
</div>


<script>
      const loginForm = document.querySelector("form.buyer");
      const buyerBtn = document.querySelector("label.buyer");
      const driverBtn = document.querySelector("label.driver");
      const sellerBtn = document.querySelector("label.seller");
      const signupLink = document.querySelector("form .signup-link a");
      sellerBtn.onclick = (()=>{
        loginForm.style.marginLeft = "-33.3333333333%";
        
      });
      driverBtn.onclick = (()=>{
        loginForm.style.marginLeft = "-66.6666666666%";
        
      });
      buyerBtn.onclick = (()=>{
        loginForm.style.marginLeft = "0%";
    
      });

      const custLGbtn = document.querySelector(".login-cust");

    custLGbtn.onclick = ((e)=>{
      e.preventDefault()
      
      let email = document.querySelector('.email-cust').value;
      let password = document.querySelector('.pass-cust').value;


      let data = {
          "email" : email,
          "password" : password
      }

      fetch('http://dev-story.my.id:3011/customer/login', {

        method: 'post',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      })
        .then(async res => {
          let response = await res.json();
          console.log(response)
          if(response.status == 'ok'){
            localStorage.setItem('token', response.token)
            window.location.href = 'http://dev-story.my.id:3011/index.html'
            //window.location.href = 'file:///C:/Users/Sherine%20Devi/PPL/vruitzy/frontend/PPL/index.html'
          }
        })
        

    });

     const sellerLGbtn = document.querySelector(".login-seller");

      sellerLGbtn.onclick = ((e)=>{
        e.preventDefault()
        
        let email = document.querySelector('.email-seller').value;
        let password = document.querySelector('.pass-seller').value;


        let data = {
            "email" : email,
            "password" : password
        }

        fetch('http://dev-story.my.id:3011/store/login', {

          method: 'post',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
          .then(async res => {
            let response = await res.json();
            console.log(response)
            if(response.status == 'ok'){
              localStorage.setItem('token', response.token)
              window.location.href = 'http://dev-story.my.id:3011/profileSeller.html'
              //window.location.href = 'file:///C:/Users/Sherine%20Devi/PPL/vruitzy/frontend/PPL/profileSeller.html'
            }
          })
          

      });

      const transLGbtn = document.querySelector(".login-transport");

      transLGbtn.onclick = ((e)=>{
        e.preventDefault()
        
        let email = document.querySelector('.email-transport').value;
        let password = document.querySelector('.pass-transport').value;


        let data = {
            "email" : email,
            "password" : password
        }

        fetch('http://dev-story.my.id:3011/transport/login', {

          method: 'post',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
          .then(async res => {
            let response = await res.json();
            console.log(response)
            if(response.status == 'ok'){
              localStorage.setItem('token', response.token)
              window.location.href = 'http://dev-story.my.id:3011/deliveryList.html'
              //window.location.href = 'file:///C:/Users/Sherine%20Devi/PPL/vruitzy/frontend/PPL/deliveryList.html'
            }
          })
          

      });

      signupLink.onclick = (()=>{
        signupBtn.click();
        return false;
      });
    </script>

  </body>
  <footer class="footer-distributed">
 
    <div class="footer-left">
  
    <h3>Vruitzy</h3>
  
    <p class="footer-links">
      Vruitzy is an e-commerce platform that
      offers high-quality fresh fruits while
      staying at home!
    </p>
  
    
    </div>
  
    <div class="footer-center">

    </div>
    <div class="footer-right">
  
    <p class="footer-company-about">
    <span>Follow Us!</span>
    </p>
  
    <div class="footer-icons">
  
    <a href="#"><i class="fa fa-facebook"></i></a>
    <a href="#"><i class="fa fa-twitter"></i></a>
    <a href="#"><i class="fa fa-linkedin"></i></a>
    <a href="#"><i class="fa fa-github"></i></a>
  
    </div>
  
    </div>
    <p class="footer-company-name">Vruitzy &copy; 2020</p>
    </footer>
    <footer>
      <p>2020 &copy; Vruitzy | All rights reserved.</p>
    </footer>
</html>
