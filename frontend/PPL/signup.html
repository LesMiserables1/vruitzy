<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="./images/Logo.png" type="image/x-icon" />
    <link rel="stylesheet" href="login.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
    <title>Signup</title>
  </head>
  <body>
    <div class="wrapper">
      <div class="title-text">
        <div class="title login">SIGNUP</div>
    </div>
<div class="form-container">
        <div class="slide-controls">
          <input type="radio" name="slide" id="buyer" checked>
          <input type="radio" name="slide" id="seller">
          <input type="radio" name="slide" id="transport">
          <label for="buyer" class="slide buyer">Buyer</label>
          <label for="seller" class="slide seller">Seller</label>
          <label for="driver" class="slide driver">Transport</label>
          <div class="slider-tab">
</div>
</div>
<div class="form-inner">
    <form action="#" class="buyer">
        <div class="field">
            <input type="text" placeholder="Enter your email" class="buyer-email" required>
        </div>
        <div class="field">
          <input type="text" placeholder="Enter your username" class="buyer-username" required>
        </div>
        <div class="field">
          <input type="text" placeholder="Enter your name" class="buyer-name" required>
        </div>
        <div class="field">
          <input type="text" placeholder="Enter your address" class="buyer-address" required>
        </div>
        <div class="field">
            <input type="password" placeholder="Enter your password" class="buyer-password" required>
        </div>
        <div class="field">
          <input type="password" placeholder="Confirm password" class="buyer-confpassword" required>
        </div>
        <div class="field btn">
          <div class="btn-layer">
      </div>
      <input type="submit" value="Signup" class='signup-customer'>
      </div>
<div class="signup-link">
Already a member? <a href="login.html">Login here</a></div>
</form>
<form action="#" class="seller">
  <div class="field">
    <input type="text" placeholder="Enter your email" class="seller-email" required>
</div>
<div class="field">
  <input type="text" placeholder="Enter your username" class="seller-username" required>
</div>
<div class="field">
  <input type="text" placeholder="Enter your store name" class="seller-storename" required>
</div>
<div class="field">
  <input type="text" placeholder="Enter your address" class="seller-address" required>
</div>
<div class="field">
    <input type="password" placeholder="Enter your password" class="seller-password" required>
</div>
<div class="field">
  <input type="password" placeholder="Confirm password" class="seller-confpassword" required>
</div>
<div class="field btn">
  <div class="btn-layer">
</div>
<input type="submit" value="Signup" class="signup-seller">
</div>
<div class="signup-link">
Already a member? <a href="login.html">Login here</a></div>
</form>
<form action="#" class="driver">
  <div class="field">
    <input type="text" placeholder="Enter your email" class="driver-email" required>
</div>
<div class="field">
<input type="text" placeholder="Enter your username" class="driver-username" required>
</div>
<div class="field">
  <input type="text" placeholder="Enter your courier name" class="driver-name" required>
</div>
<div class="field">
  <input type="text" placeholder="Enter your address" class="driver-address" required>
</div>
<div class="field">
    <input type="password" placeholder="Enter your password" class="driver-password" required>
</div>
<div class="field">
  <input type="password" placeholder="Confirm password" class="driver-confpassword" required>
</div>
<div class="field btn">
  <div class="btn-layer">
</div>
<input type="submit" value="Signup" class="signup-driver">
</div>
<div class="signup-link">
Already a member? <a href="login.html">Login here</a></div>
</form>
</div>
</div>
</div>


<script>
      const loginForm = document.querySelector("form.buyer");
      const buyerBtn = document.querySelector("label.buyer");
      const driverBtn = document.querySelector("label.driver");
      const sellerBtn = document.querySelector("label.seller");
      const signupLink = document.querySelector("form .signup-link a");
      sellerBtn.onclick = (()=>{
        loginForm.style.marginLeft = "-33.3333333333%";
        
      });
      driverBtn.onclick = (()=>{
        loginForm.style.marginLeft = "-66.6666666666%";
        
      });
      buyerBtn.onclick = (()=>{
        loginForm.style.marginLeft = "0%";
    
      });

      // signupLink.onclick = (()=>{
      //   signupBtn.click();
      //   return false;
      // });

      const signUpbtn = document.querySelector(".signup-customer")
      signUpbtn.onclick = ((e)=>{
        e.preventDefault()
        let email = document.querySelector('.buyer-email').value;
        let username = document.querySelector('.buyer-username').value;
        let name = document.querySelector('.buyer-name').value;
        let address = document.querySelector('.buyer-address').value;
        let password = document.querySelector('.buyer-password').value;
        let confpassword = document.querySelector('.buyer-confpassword').value;
        // tidak membuat confirm password

        let data = {
          "nama" : name,
          "username" : username,
          "email" : email,
          "password" : password,
          "alamat" : address,
        }
        if (password === confpassword){
        fetch('http://dev-story.my.id:3011/customer/register',{
          method : 'post',
          headers: {
            'Content-Type' : 'application/json'
          },
          body: JSON.stringify(data)
        })
        .then(async res => {
          let response = await res.json();
          console.log(response)
          if (response.status === 'ok'){
            window.location.href = 'http://dev-story.my.id:3011/thankSignUp.html'
          }
        })}else{
          alert("Password do not match!");
        }
      });

      const signUpSellbtn = document.querySelector(".signup-seller")
      signUpSellbtn.onclick = ((e)=>{
        e.preventDefault()
        let email = document.querySelector('.seller-email').value;
        let username = document.querySelector('.seller-username').value;
        let store_name = document.querySelector('.seller-storename').value;
        let address = document.querySelector('.seller-address').value;
        let password = document.querySelector('.seller-password').value;
        let confpassword = document.querySelector('.seller-confpassword').value;
        // tidak membuat confirm password

        let data = {
          "username" : username,
          "email" : email,
          "nama_toko" : store_name,
          "password" : password,
          "alamat" : address
        }
        
        if (password == confpassword) {
        fetch('http://dev-story.my.id:3011/store/register',{
          method : 'post',
          headers: {
            'Content-Type' : 'application/json'
          },
          body: JSON.stringify(data)
        })
        .then(async res => {
          let response = await res.json();
          console.log(response)
          if (response.status === 'ok'){
            window.location.href = 'http://dev-story.my.id:3011/thankSignUp.html'
          }
        })}else{
          alert("Password do not match!");
        }
      });

      const signUpDriverbtn = document.querySelector(".signup-driver")
      signUpDriverbtn.onclick = ((e)=>{
        e.preventDefault()
        let email = document.querySelector('.driver-email').value;
        let username = document.querySelector('.driver-username').value;
        let name = document.querySelector('.driver-name').value;
        let address = document.querySelector('.driver-address').value;
        let password = document.querySelector('.driver-password').value;
        let confpassword = document.querySelector('.driver-confpassword').value;
        // tidak membuat confirm password

        let data = {
          "username" : username,
          "email" : email,
          "nama_courier" : name,
          "password" : password,
          "alamat" : address
        }

        if (password == confpassword){
        fetch('http://dev-story.my.id:3011/transport/register',{
          method : 'post',
          headers: {
            'Content-Type' : 'application/json'
          },
          body: JSON.stringify(data)
        })
        .then(async res => {
          let response = await res.json();
          console.log(response)
          if (response.status === 'ok'){
            window.location.href = 'http://dev-story.my.id:3011/thankSignUp.html'
          }
        })}else{
          alert("Password do not match!");
        }
      });


    </script>

  </body>
  <footer class="footer-distributed">
 
    <div class="footer-left">
  
    <h3>Vruitzy</h3>
  
    <p class="footer-links">
      Vruitzy is an e-commerce platform that
      offers high-quality fresh fruits while
      staying at home!
    </p>
  
    
    </div>
  
    <div class="footer-center">

    </div>
    <div class="footer-right">
  
    <p class="footer-company-about">
    <span>Follow Us!</span>
    </p>
  
    <div class="footer-icons">
  
    <a href="#"><i class="fa fa-facebook"></i></a>
    <a href="#"><i class="fa fa-twitter"></i></a>
    <a href="#"><i class="fa fa-linkedin"></i></a>
    <a href="#"><i class="fa fa-github"></i></a>
  
    </div>
  
    </div>
    <p class="footer-company-name">Vruitzy &copy; 2020</p>
    </footer>
    <footer>
      <p>2020 &copy; Vruitzy | All rights reserved.</p>
    </footer>
</html>
